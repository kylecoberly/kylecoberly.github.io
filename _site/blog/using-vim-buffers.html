<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
        
            Using Vim Buffers
        
    </title>
    <meta 
        name="description"
        content="
            Want to improve your ability to work with multiple files in Vim? Spending a lot of time searching through directories with Netrw or NERDtree? Become proficie...
        "
    >
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://kylecoberly.com/blog/using-vim-buffers">
    <link rel="alternate" type="application/rss+xml" title="Kyle Coberly" href="http://kylecoberly.com/feed.xml" />
</head>

    <body>
        <div class="site-wrapper">
            <header class="site-header">
    <div>
        <h1><a href="/">Kyle Coberly</a></h1>
        <p>Web app developer, business dork, amateur economist</p>
    </div>
    <nav>
        <ul>
            
            
                
            
                
            
                
            
                
                <li
                    
                        class="active"
                    
                >
                    <a href="/blog/">Blog</a>
                </li>
                
            
                
                <li
                    
                >
                    <a href="/portfolio/">Portfolio</a>
                </li>
                
            
                
                <li
                    
                >
                    <a href="/about-me/">About Me</a>
                </li>
                
            
        </ul>
    </nav>
    <ul class="social-links">
        
            <li>
                <a href="http://www.github.com/kylecoberly" class="github-logo" target="_BLANK"></a>
            </li>
        
            <li>
                <a href="http://www.twitter.com/kylecoberly" class="twitter-logo" target="_BLANK"></a>
            </li>
        
            <li>
                <a href="http://www.linkedin.com/in/kylecoberly" class="linkedin-logo" target="_BLANK"></a>
            </li>
        
            <li>
                <a href="/feed.xml" class="rss-logo" target="_BLANK"></a>
            </li>
        
    </ul>
</header>

            <div class="page-content">
                <article class="blog-post">
    <header>
        <h2>Using Vim Buffers</h2>
        <time>December 27, 2016</time>
    </header>
    <main>
        <p>Want to improve your ability to work with multiple files in Vim? Spending a lot of time searching through directories with Netrw or NERDtree? Become proficient with buffers and you’ll be leaving your GUI editor comrades in the dust.</p>

<h3 id="what-are-buffers">What are buffers?</h3>
<p>Think of buffers as tabs¹ in Sublime or Atom. When you open a file in Vim, its contents are read into a "buffer," which is the thing Vim is actually working on. When you run <code>:w</code>, the contents of the buffer are written back to the file. When you open a new file in Vim with <code>:e</code> or <code>:E</code>, the buffer you were just using doesn't close, even though you're not looking at it anymore. You can see all of your open buffers by running <code>:ls</code>.</p>

<p>¹Vim has something called tabs too, but these are <a href="http://joshldavis.com/2014/04/05/vim-tab-madness-buffers-vs-tabs/"><em>not</em> similar to tabs in GUI applications</a>. A more accurate term for Vim tabs would probably be "layouts."</p>

<h3 id="add-buffer-support-to-airline">Add buffer support to airline</h3>

<p>The first thing we can do to make working with buffers easier is to visualize them. Let's install the status bar plug-in <a href="https://www.github.com/vim-airline/vim-airline">Airline</a>. If you're using NeoBundle, you can do this by adding <code>NeoBundle 'vim-airline/vim-airline'</code> to your <code>.vimrc</code>.</p>

<p>Airline hides buffer names by default. To make them show up, add <code>let g:airline#extensions#tabline#enabled = 1</code> to your <code>.vimrc</code>.</p>

<p>Now the names of your open buffers will show up across the top of your terminal, just like tabs!</p>

<h3 id="ctrl-p">Ctrl-p</h3>

<p>The second thing we can do to improve the buffer experience is to install the <a href="https://www.github.com/ctrlpvim/ctrlp.vim">Ctrl-P plug-in</a>. With NeoBundle, that's as easy as <code>NeoBundle 'ctrlpvim/ctrlp.vim'</code>.</p>

<p>Ctrl-p allows you to open files and buffers using fuzzy-search. Here are some default configuration settings to add to your <code>.vimrc</code>:</p>

<pre><code>let g:ctrlp_use_caching=0
let g:ctrlp_custom_ignore = 'bin$\|build$\|node_modules$\|.git|.bak|.swp|.pyc|.class'
let g:ctrlp_working_path_mode = 0
let g:ctrlp_max_files=0
let g:ctrlp_max_height = 18
</code></pre>

<h3 id="buffer-shortcuts">Buffer Shortcuts</h3>

<p>The commands for working with buffers are a little long and unwieldy. These are the shortcut mappings I use:</p>

<pre><code>nnoremap &lt;Leader&gt;ff :CtrlP&lt;CR&gt;
nnoremap &lt;Leader&gt;&lt;Leader&gt; :CtrlPBuffer&lt;CR&gt;
nnoremap &lt;Leader&gt;d :bd&lt;CR&gt;
nnoremap &lt;Leader&gt;n :bn&lt;CR&gt;
nnoremap &lt;Leader&gt;N :bN&lt;CR&gt;
</code></pre>

<p>Add these to your <code>.vimrc</code> to use buffers at Vim-speed! I use spacebar as my <code>&lt;leader&gt;</code> by adding <code>mapleader=" "</code> to my .vimrc. Feel free to use another key if it's more comfortable! Now you can:</p>

<ul>
  <li><em>Open a file.</em>  Start fuzzy-searching for any files inside the folder you opened Vim in with <code>Space f f</code></li>
  <li><em>Open a buffer.</em> Start fuzzy-searching for any existing buffer (check your buffer list at the top!) by tapping your spacebar twice</li>
  <li><em>Close a buffer.</em> Close the active buffer with <code>Space d</code></li>
  <li><em>Go to the next buffer.</em> Open the next buffer in the list with <code>Space n</code></li>
  <li><em>Go to the previous buffer.</em> Open the previous buffer in the list with <code>Space N</code></li>
</ul>

<p>That's enough to get started working with buffers in Vim! The next time you're tempted to reach for a file navigation tool, try using fuzzy search and buffers instead!</p>

    </main>
    <footer>
        <address><a href="mailto:kyle.coberly@gmail.com">-Kyle Coberly</a></address>
        <small>&copy;2015</small>
    </footer>
</article>

            </div>
        </div>
        <footer>
</footer>

        <div class="shade">&nbsp;</div>
    </body>
    <script src="/js/off-canvas-menu.js"></script>
</html>
